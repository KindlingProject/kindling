trace:
  key: rocketmq-json
  requests:
    -
      name: "sendmsg"
      timestamp: 100000000
      user_attributes:
        latency: 40000
###JSON
        res: 108
#        res: 359
#        res: 379
#        res: 1934
        data:
###1.Request JSON-extFields is nil
          - '00000068'
          - '00000064|{"code":106,"flag":0,"language":"JAVA","opaque":1062,"serializeTypeCurrentRPC":"JSON","version":393}'
###2.Request JSON-extFields have topic
#          - '00000163'
#          - '0000015f|{"code":11,"extFields":{"queueId":"0","maxMsgNums":"32","sysFlag":"3","suspendTimeoutMillis":"15000","commitOffset":"64","topic":"TopicTest","queueOffset":"96","expressionType":"TAG","subVersion":"1661601703502","consumerGroup":"please_rename_unique_group_name_4"},"flag":0,"language":"JAVA","opaque":61,"serializeTypeCurrentRPC":"JSON","version":401}'
###3.Request JSON-extFields have key 'a' 'b' 'c' 'd' 'e' 'f' 'g'
#          - '00000177'
#          - '00000163|{"code":310,"extFields":{"a":"please_rename_unique_group_name","b":"TopicTest","c":"TBW102","d":"4","e":"3","f":"0","g":"1661601694662","h":"0","i":"UNIQ_KEY\u00017F00000100D7135FBAA48879F7C60000\u0002WAIT\u0001true\u0002TAGS\u0001TagA","j":"0","k":"false","m":"false"},"flag":0,"language":"JAVA","opaque":8,"serializeTypeCurrentRPC":"JSON","version":401}'
###4.Request JSON-extFields do not have topic
#          - '0000078a'
#          - '0000013a|{"code":103,"extFields":{"brokerId":"0","bodyCrc32":"11663842","clusterName":"DefaultCluster","brokerAddr":"10.233.90.93:10911","haServerAddr":"10.233.90.93:10912","compressed":"false","brokerName":"rocketmq-5668b48cd9-h6gbz"},"flag":0,"language":"JAVA","opaque":505,"serializeTypeCurrentRPC":"JSON","version":401}'
#          - '7b2266696c7465725365727665724c697374223a5b5d2c22746f706963436f6e66696753657269616c697a6557726170706572223a7b226461746156657273696f6e223a7b22636f756e746572223a312c2274696d657374616d70223a313636313539393535363730377d2c22746f706963436f6e6669675461626c65223a7b225343484544554c455f544f5049435f58585858223a7b226f72646572223a66616c73652c227065726d223a362c227265616451756575654e756d73223a31382c22746f70696346696c74657254797065223a2253494e474c455f544147222c22746f7069634e616d65223a225343484544554c455f544f5049435f58585858222c22746f706963537973466c6167223a302c22777269746551756575654e756d73223a31387d2c2253454c465f544553545f544f504943223a7b226f72646572223a66616c73652c227065726d223a362c227265616451756575654e756d73223a312c22746f70696346696c74657254797065223a2253494e474c455f544147222c22746f7069634e616d65223a2253454c465f544553545f544f504943222c22746f706963537973466c6167223a302c22777269746551756575654e756d73223a317d2c2244656661756c74436c7573746572223a7b226f72646572223a66616c73652c227065726d223a372c227265616451756575654e756d73223a31362c22746f70696346696c74657254797065223a2253494e474c455f544147222c22746f7069634e616d65223a2244656661756c74436c7573746572222c22746f706963537973466c6167223a302c22777269746551756575654e756d73223a31367d2c2244656661756c74436c75737465725f5245504c595f544f504943223a7b226f72646572223a66616c73652c227065726d223a362c227265616451756575654e756d73223a312c22746f70696346696c74657254797065223a2253494e474c455f544147222c22746f7069634e616d65223a2244656661756c74436c75737465725f5245504c595f544f504943222c22746f706963537973466c6167223a302c22777269746551756575654e756d73223a317d2c22726f636b65746d712d353636386234386364392d683667627a223a7b226f72646572223a66616c73652c227065726d223a372c227265616451756575654e756d73223a312c22746f70696346696c74657254797065223a2253494e474c455f544147222c22746f7069634e616d65223a22726f636b65746d712d353636386234386364392d683667627a222c22746f706963537973466c6167223a302c22777269746551756575654e756d73223a317d2c22524d515f5359535f5452414e535f48414c465f544f504943223a7b226f72646572223a66616c73652c227065726d223a362c227265616451756575654e756d73223a312c22746f70696346696c74657254797065223a2253494e474c455f544147222c22746f7069634e616d65223a22524d515f5359535f5452414e535f48414c465f544f504943222c22746f706963537973466c6167223a302c22777269746551756575654e756d73223a317d2c22544257313032223a7b226f72646572223a66616c73652c227065726d223a372c227265616451756575654e756d73223a382c22746f70696346696c74657254797065223a2253494e474c455f544147222c22746f7069634e616d65223a22544257313032222c22746f706963537973466c6167223a302c22777269746551756575654e756d73223a387d2c2242656e63686d61726b54657374223a7b226f72646572223a66616c73652c227065726d223a362c227265616451756575654e756d73223a313032342c22746f70696346696c74657254797065223a2253494e474c455f544147222c22746f7069634e616d65223a2242656e63686d61726b54657374222c22746f706963537973466c6167223a302c22777269746551756575654e756d73223a313032347d2c224f46465345545f4d4f5645445f4556454e54223a7b226f72646572223a66616c73652c227065726d223a362c227265616451756575654e756d73223a312c22746f70696346696c74657254797065223a2253494e474c455f544147222c22746f7069634e616d65223a224f46465345545f4d4f5645445f4556454e54222c22746f706963537973466c6167223a302c22777269746551756575654e756d73223a317d7d7d7d'
  responses:
    -
      name: "recvmsg"
      timestamp: 101000000
      user_attributes:
        latency: 8000
###JSON
        res: 332
#        res: 6364
#        res: 239
#        res: 120
        data:
###1.Response JSON-extFields is nil
          - '00000148'
          - '00000062|{"code":0,"flag":1,"language":"JAVA","opaque":1062,"serializeTypeCurrentRPC":"JSON","version":401}'
          - '7b2262726f6b6572416464725461626c65223a7b22726f636b65746d712d353636386234386364392d683667627a223a7b2262726f6b65724164647273223a7b303a2231302e3233332e39302e39333a3130393131227d2c2262726f6b65724e616d65223a22726f636b65746d712d353636386234386364392d683667627a222c22636c7573746572223a2244656661756c74436c7573746572227d7d2c22636c7573746572416464725461626c65223a7b2244656661756c74436c7573746572223a5b22726f636b65746d712d353636386234386364392d683667627a225d7d7d'
###2.Response JSON-extFields have key "topic"
#          - '000018d8'
#          - '000000d4|{"code":0,"extFields":{"suggestWhichBrokerId":"0","nextBeginOffset":"128","maxOffset":"250","minOffset":"0"},"flag":1,"language":"JAVA","opaque":61,"remark":"FOUND","serializeTypeCurrentRPC":"JSON","version":401}'
#          - '000000c0daa320a761273ecf000000030000000000000000000000a0000000000001df920000000000000182df2dcc240ae95a5d0000c11200000182df2dcc250ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036343009546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303032343032383002434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a7664afad6000000030000000000000000000000a1000000000001e2920000000000000182df2dcc2a0ae95a5d0000c11200000182df2dcc2b0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036343409546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303032413032383402434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a76ffcb6fd000000030000000000000000000000a2000000000001e5920000000000000182df2dcc2f0ae95a5d0000c11200000182df2dcc300ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036343809546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303032463032383802434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a716326ea2000000030000000000000000000000a3000000000001e8920000000000000182df2dcc340ae95a5d0000c11200000182df2dcc350ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036353209546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303033343032384302434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a7115faabb000000030000000000000000000000a4000000000001eb920000000000000182df2dcc3c0ae95a5d0000c11200000182df2dcc3d0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036353609546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303033433032393002434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a753115c4d000000030000000000000000000000a5000000000001ee920000000000000182df2dcc420ae95a5d0000c11200000182df2dcc430ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036363009546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303034323032393402434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a7547c9854000000030000000000000000000000a6000000000001f1920000000000000182df2dcc480ae95a5d0000c11200000182df2dcc490ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036363409546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303034383032393802434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a75dcad47f000000030000000000000000000000a7000000000001f4920000000000000182df2dcc4f0ae95a5d0000c11200000182df2dcc510ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036363809546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303034463032394302434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a724040c20000000030000000000000000000000a8000000000001f7920000000000000182df2dcc560ae95a5d0000c11200000182df2dcc570ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036373209546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303035363032413002434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a72369c839000000030000000000000000000000a9000000000001fa920000000000000182df2dcc5c0ae95a5d0000c11200000182df2dcc5c0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036373609546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303035433032413402434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a74d9271c3000000030000000000000000000000aa000000000001fd920000000000000182df2dcc610ae95a5d0000c11200000182df2dcc620ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036383009546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303036313032413802434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a74affb5da000000030000000000000000000000ab00000000000200920000000000000182df2dcc670ae95a5d0000c11200000182df2dcc680ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036383409546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303036373032414302434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a74349f9f1000000030000000000000000000000ac00000000000203920000000000000182df2dcc6d0ae95a5d0000c11200000182df2dcc6e0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036383809546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303036443032423002434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a73a8721ae000000030000000000000000000000ad00000000000206920000000000000182df2dcc740ae95a5d0000c11200000182df2dcc740ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036393209546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303037343032423402434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a73deae5b7000000030000000000000000000000ae00000000000209920000000000000182df2dcc790ae95a5d0000c11200000182df2dcc7a0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512036393609546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303037393032423802434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a7048991fc000000030000000000000000000000af0000000000020c920000000000000182df2dcc7f0ae95a5d0000c11200000182df2dcc800ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037303009546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303037463032424302434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a703e455e5000000030000000000000000000000b00000000000020f920000000000000182df2dcc850ae95a5d0000c11200000182df2dcc860ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037303409546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303038353032433002434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a70a5219ce000000030000000000000000000000b100000000000212920000000000000182df2dcc8b0ae95a5d0000c11200000182df2dcc8c0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037303809546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303038423032433402434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a7739cc191000000030000000000000000000000b200000000000215920000000000000182df2dcc930ae95a5d0000c11200000182df2dcc940ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037313209546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303039333032433802434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a774f10588000000030000000000000000000000b300000000000218920000000000000182df2dcc990ae95a5d0000c11200000182df2dcc9a0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037313609546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303039393032434302434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a736bff37e000000030000000000000000000000b40000000000021b920000000000000182df2dcca60ae95a5d0000c11200000182df2dcca70ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037323009546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303041363032443002434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a731d23767000000030000000000000000000000b50000000000021e920000000000000182df2dccab0ae95a5d0000c11200000182df2dccac0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037323409546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303041423032443402434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a738647b4c000000030000000000000000000000b600000000000221920000000000000182df2dccb10ae95a5d0000c11200000182df2dccb20ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037323809546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303042313032443802434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a741aaa313000000030000000000000000000000b700000000000224920000000000000182df2dccb60ae95a5d0000c11200000182df2dccb70ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037333209546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303042363032444302434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a746c7670a000000030000000000000000000000b800000000000227920000000000000182df2dccbe0ae95a5d0000c11200000182df2dccbf0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037333609546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303042453032453002434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a760e554f8000000030000000000000000000000b90000000000022a920000000000000182df2dccc50ae95a5d0000c11200000182df2dccc60ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037343009546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303043353032453402434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a7678890e1000000030000000000000000000000ba0000000000022d920000000000000182df2dcccb0ae95a5d0000c11200000182df2dcccc0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037343409546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303043423032453802434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a76e3edcca000000030000000000000000000000bb00000000000230920000000000000182df2dccd20ae95a5d0000c11200000182df2dccd30ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037343809546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303044323032454302434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a717f00495000000030000000000000000000000bc00000000000233920000000000000182df2dccd90ae95a5d0000c11200000182df2dccda0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037353209546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303044393032463002434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a7109dc08c000000030000000000000000000000bd00000000000236920000000000000182df2dcce10ae95a5d0000c11200000182df2dcce20ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037353609546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303045313032463402434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a752d3367a000000030000000000000000000000be00000000000239920000000000000182df2dcce70ae95a5d0000c11200000182df2dcce80ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037363009546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303045373032463802434c55535445520144656661756c74436c757374657202544147530154616741000000c0daa320a755bef263000000030000000000000000000000bf0000000000023c920000000000000182df2dcced0ae95a5d0000c11200000182df2dccee0ae95a5d00002a9f0000000000000000000000000000001248656c6c6f20526f636b65744d512037363409546f70696354657374004a554e49515f4b455901374630303030303130304437313335464241413438383741303045443032464302434c55535445520144656661756c74436c75737465720254414753015461674100000000'
###3.Response JSON-extFields have key 'a' 'b' 'c' 'd' 'e' 'f' 'g'
#          - '000000eb'
#          - '000000e7|{"code":0,"extFields":{"queueId":"3","TRACE_ON":"true","MSG_REGION":"DefaultRegion","msgId":"0AE95A5D00002A9F0000000000000000","queueOffset":"0"},"flag":1,"language":"JAVA","opaque":8,"serializeTypeCurrentRPC":"JSON","version":401}'
###4.Response JSON-extFields do not have topic
#          - '00000074'
#          - '00000070|{"code":0,"extFields":{},"flag":1,"language":"JAVA","opaque":505,"serializeTypeCurrentRPC":"JSON","version":401}'
  expects:
    -
      Timestamp: 99960000
      Values:
        request_total_time: 1040000
        connect_time: 0
        request_sent_time: 40000
        waiting_ttfb_time: 992000
        content_download_time: 8000
        request_io: 108
        response_io: 332
      Labels:
        comm: "rocketmq-server"
        pid: 12346
        request_tid: 12347
        response_tid: 12347
        src_ip: "127.0.0.1"
        src_port: 45678
        dst_ip: "127.0.0.1"
        dst_port: 9876
        dnat_ip: ""
        dnat_port: -1
        container_id: ""
        is_slow: false
        is_server: false
        protocol: "rocketmq"
        is_error: false
        content_key: "GET_BROKER_CLUSTER_INFO"
        rocketmq_request_msg: "GET_BROKER_CLUSTER_INFO"
        rocketmq_opaque: 1062
        rocketmq_error_code: 0
        error_type: 0
        request_payload: '...h...d{"code":106,"flag":0,"language":"JAVA","opaque":1062,"serializeTypeCurrentRPC":"JSON","version":393}'
        response_payload: '...H...b{"code":0,"flag":1,"language":"JAVA","opaque":1062,"serializeTypeCurrentRPC":"JSON","version":401}{"brokerAddrTable":{"rocketmq-5668b48cd9-h6gbz":{"brokerAddrs":{0:"10.233.90.93:10911"},"broke'
